<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game</title>
    <style>
        body { margin: 0; }
        #gameCanvas { display: block; width: 100%; height: 100vh; background: #000; }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <div style="position: absolute; top: 10px; left: 10px; color: white;">Score: <span id="score">0</span></div>
    <button id="startButton" style="position: absolute; top: 10px; right: 10px; padding: 10px;">Start Game</button>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let speed = 100; // Initial speed in milliseconds
        let snakeSpeedIncreaseRate = 5; // How much to increase the speed each level
        let score = 0;
        let gamePaused = false;
        const gridSize = 20;
        const snake = { x: 1 * gridSize, y: 1 * gridSize, cells: [], direction: 'right' };
        const food = { x: 5 * gridSize, y: 5 * gridSize };

        function drawSnake() {
            ctx.fillStyle = '#FFFFFF';
            snake.cells.forEach(cell => {
                ctx.fillRect(cell.x, cell.y, gridSize, gridSize);
            });
        }

        function drawFood() {
            ctx.fillStyle = 'red';
            ctx.fillRect(food.x, food.y, gridSize, gridSize);
        }

        function updateSnake() {
            const head = { x: snake.x + (snake.direction === 'right' ? 1 : snake.direction === 'left' ? -1 : 0) * gridSize, y: snake.y + (snake.direction === 'down' ? 1 : snake.direction === 'up' ? -1 : 0) * gridSize };
            if (head.x === food.x && head.y === food.y) {
                score++;
                speed -= snakeSpeedIncreaseRate; // Increase difficulty
                snake.cells.push({ x: head.x, y: head.y });
                generateFood();
            } else {
                snake.cells.shift();
            }
            if (head.x < 0) head.x = canvas.width - gridSize;
            if (head.x >= canvas.width) head.x = 0;
            if (head.y < 0) head.y = canvas.height - gridSize;
            if (head.y >= canvas.height) head.y = 0;
            snake.cells.push({ x: head.x, y: head.y });
        }

        function generateFood() {
            food.x = Math.floor(Math.random() * (canvas.width / gridSize)) * gridSize;
            food.y = Math.floor(Math.random() * (canvas.height / gridSize)) * gridSize;
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function drawGame() {
            clearCanvas();
            snake.cells.forEach(cell => {
                ctx.fillRect(cell.x, cell.y, gridSize, gridSize);
            });
            ctx.fillRect(food.x, food.y, gridSize, gridSize);
        }

        function startGame() {
            snake.cells = [{ x: 1 * gridSize, y: 1 * gridSize }];
            score = 0;
            speed = 100; // Reset speed
            generateFood();
            gamePaused = false;
            document.getElementById('startButton').innerText = 'Pause Game';
            drawGame();
        }

        function handleKeyPress(event) {
            switch (event.key) {
                case "ArrowUp":
                    if (snake.direction !== 'down') snake.direction = 'up';
                    break;
                case "ArrowDown":
                    if (snake.direction !== 'up') snake.direction = 'down';
                    break;
                case "ArrowLeft":
                    if (snake.direction !== 'right') snake.direction = 'left';
                    break;
                case "ArrowRight":
                    if (snake.direction !== 'left') snake.direction = 'right';
                    break;
            }
        }

        document.addEventListener('keydown', handleKeyPress);
        document.getElementById('startButton').onclick = () => {
            if (gamePaused) {
                gamePaused = false;
                drawGame();
                document.getElementById('startButton').innerText = 'Pause Game';
            } else {
                gamePaused = true;
                document.getElementById('startButton').innerText = 'Resume Game';
            }
        };

        function loop() {
            if (!gamePaused) {
                updateSnake();
                drawGame();
            }
            setTimeout(loop, speed);
        }

        startGame();
        loop();
    </script>
</body>
</html>